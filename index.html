<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SK Tool - PDF to JPG Converter</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(to right, #f0f4ff, #d9e6ff);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    background: #ffffff;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0px 10px 25px rgba(0,0,0,0.1);
    text-align: center;
    max-width: 500px;
    width: 90%;
  }

  h1 {
    font-size: 3em;
    background: linear-gradient(90deg, #ff416c, #ff4b2b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 10px;
  }

  p.subtitle {
    color: #555;
    margin-bottom: 30px;
    font-size: 1.1em;
  }

  input[type="file"] {
    padding: 12px 20px;
    border-radius: 10px;
    border: 2px solid #ff4b2b;
    cursor: pointer;
    margin-bottom: 20px;
  }

  button {
    background: #ff416c;
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 12px;
    font-size: 1em;
    cursor: pointer;
    margin-top: 15px;
    transition: 0.3s;
  }

  button:hover {
    background: #ff4b2b;
  }

  canvas {
    margin-top: 20px;
    border-radius: 12px;
    max-width: 100%;
    border: 1px solid #ccc;
  }
</style>
</head>
<body>
<div class="container">
  <h1>SK Tool</h1>
  <p class="subtitle">Upload your PDF to convert the first page into JPG</p>
  <input type="file" id="upload" accept="application/pdf">
  <br>
  <button id="downloadBtn" style="display:none;">Download JPG</button>
  <canvas id="canvas"></canvas>
</div>

<script>
  const input = document.getElementById('upload');
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  const downloadBtn = document.getElementById('downloadBtn');

  input.addEventListener('change', function(e) {
    const file = e.target.files[0];
    const reader = new FileReader();

    reader.onload = function() {
      const typedarray = new Uint8Array(this.result);
      pdfjsLib.getDocument(typedarray).promise.then(function(pdf) {
        pdf.getPage(1).then(function(page) {
          const viewport = page.getViewport({ scale: 2 });
          canvas.height = viewport.height;
          canvas.width = viewport.width;

          page.render({
            canvasContext: ctx,
            viewport: viewport
          }).promise.then(() => {
            downloadBtn.style.display = 'inline-block';
          });
        });
      });
    };
    reader.readAsArrayBuffer(file);
  });

  downloadBtn.addEventListener('click', function() {
    const link = document.createElement('a');
    link.download = 'page1.jpg';
    link.href = canvas.toDataURL('image/jpeg');
    link.click();
  });
</script>
</body>
</html>
